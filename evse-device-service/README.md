# EVSE Device Service

NestJS —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—Ä—è–¥–Ω—ã–º–∏ —Å—Ç–∞–Ω—Ü–∏—è–º–∏ EVSE.

## –§—É–Ω–∫—Ü–∏–∏

- üì° MQTT –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Å–≤—è–∑–∏ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- üîß gRPC –∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ DBC —Ñ—Ä–µ–π–º–æ–≤  
- üè¢ gRPC –∫–ª–∏–µ–Ω—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ Main Backend
- üì§ Redis publisher –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- ‚è∞ Heartbeat –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
- üîå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—Ä—è–¥–Ω—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install
```

## –ó–∞–ø—É—Å–∫

```bash
# Development
npm run start:dev

# Production
npm run build
npm run start:prod
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env` —Ñ–∞–π–ª–µ:

- `MQTT_BROKER_URL` - MQTT –±—Ä–æ–∫–µ—Ä
- `DBC_SERVICE_URL` - Python DBC Service  
- `MAIN_BACKEND_GRPC_URL` - Main Backend Service
- `REDIS_URL` - Redis —Å–µ—Ä–≤–µ—Ä

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç MQTT –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
node test-service.js
```

## API

–°–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ API —á–µ—Ä–µ–∑:

- gRPC –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- Redis Pub/Sub –¥–ª—è —Å–æ–±—ã—Ç–∏–π
- MQTT –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤
